(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},5731:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});class s{setToken(e){this.token=e,e?(localStorage.setItem("token",e),console.log("Token saved to localStorage")):(localStorage.removeItem("token"),console.log("Token removed from localStorage"))}getToken(){return localStorage.getItem("token")}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.startsWith("/")?e:"/".concat(e),s=this.baseUrl.replace(/\/$/,""),n="".concat(s).concat(r);console.log("\uD83D\uDD35 API Request:",t.method||"GET",n);let a={"Content-Type":"application/json",...t.headers},o=this.getToken();if(o&&(a.Authorization="Bearer ".concat(o)),!e.startsWith("/auth/")&&!e.startsWith("/oauth/")){let t=localStorage.getItem("currentOrganizationId");!t||a["X-Organization-ID"]||e.includes("organization_id=")||(a["X-Organization-ID"]=t)}try{let e=await fetch(n,{...t,headers:a,mode:"cors",credentials:"include"});if(console.log("\uD83D\uDFE2 Response status:",e.status,e.statusText),!e.ok)try{let t=await e.json();return console.error("\uD83D\uDD34 API error response:",t),{error:t.error||"Request failed with status ".concat(e.status)}}catch(t){return console.error("\uD83D\uDD34 Failed to parse error response:",t),{error:"Request failed with status ".concat(e.status)}}let r=await e.json();return console.log("âœ… API response received:",Object.keys(r)),{data:r}}catch(e){var i;if(console.error("\uD83D\uDD34 API request error:",e),console.error("Error details:",{name:e.name,message:e.message,url:n}),"Failed to fetch"===e.message||"TypeError"===e.name||(null==(i=e.message)?void 0:i.includes("fetch")))return{error:"Cannot connect to server at ".concat(n,". Please make sure the backend is running on http://localhost:8787. Check browser console for details.")};return{error:e.message||"Network error"}}}async login(e,t){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})}async register(e,t,r){return this.request("/auth/register",{method:"POST",body:JSON.stringify({email:e,password:t,name:r})})}async getServices(e,t){let r=new URLSearchParams({organization_id:e});return t&&r.append("project_id",t),this.request("/services?".concat(r.toString()))}async getService(e){return this.request("/services/".concat(e))}async getServiceSuggestions(e){return this.request("/services/".concat(e,"/suggestions"))}async createService(e,t){return this.request("/services",{method:"POST",headers:{"X-Organization-ID":t},body:JSON.stringify({...e,organization_id:t})})}async updateService(e,t){return this.request("/services/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteService(e){return this.request("/services/".concat(e),{method:"DELETE"})}async testService(e){return this.request("/services/".concat(e,"/test"),{method:"POST"})}async getIncidents(e){let t=new URLSearchParams(e).toString();return this.request("/incidents".concat(t?"?".concat(t):""))}async getIncident(e){return this.request("/incidents/".concat(e))}async createIncident(e){return this.request("/incidents",{method:"POST",body:JSON.stringify(e)})}async updateIncident(e,t){return this.request("/incidents/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async getStatusPages(){return this.request("/status-page/mine")}async createStatusPage(e){return this.request("/status-page",{method:"POST",body:JSON.stringify(e)})}async getStatusPage(e){return this.request("/status-page/".concat(e))}async updateStatusPage(e,t){return this.request("/status-page/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async getIntegrations(){return this.request("/integrations")}async updateTelegramIntegration(e){return this.request("/integrations/telegram",{method:"PATCH",body:JSON.stringify(e)})}async updateEmailIntegration(e){return this.request("/integrations/email",{method:"PATCH",body:JSON.stringify(e)})}async deleteStatusPage(e){return this.request("/status-page/".concat(e),{method:"DELETE"})}async addServiceToStatusPage(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.request("/status-page/".concat(e,"/services"),{method:"POST",body:JSON.stringify({service_id:t,display_order:r})})}async removeServiceFromStatusPage(e,t){return this.request("/status-page/".concat(e,"/services/").concat(t),{method:"DELETE"})}async getOAuthProviders(){return this.request("/oauth/providers")}async handleOAuthCallback(e,t,r){return this.request("/oauth/".concat(e,"/callback"),{method:"POST",body:JSON.stringify({code:t,state:r})})}async getCurrentUser(){return this.request("/users/me")}async getOrganizations(){return this.request("/organizations")}async createOrganization(e,t){return this.request("/organizations",{method:"POST",body:JSON.stringify({name:e,slug:t})})}async getOrganization(e){return this.request("/organizations/".concat(e))}async inviteToOrganization(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"member";return this.request("/organizations/".concat(e,"/invite"),{method:"POST",body:JSON.stringify({email:t,role:r})})}async getOrganizationInvitations(e){return this.request("/organizations/".concat(e,"/invitations"))}async getProjects(e){return this.request("/projects?organization_id=".concat(e))}async createProject(e,t,r){return this.request("/projects",{method:"POST",headers:{"X-Organization-ID":r},body:JSON.stringify({name:e,description:t,organization_id:r})})}async getProject(e,t){return this.request("/projects/".concat(e,"?organization_id=").concat(t))}async updateProject(e,t,r){return this.request("/projects/".concat(e),{method:"PATCH",headers:{"X-Organization-ID":t},body:JSON.stringify(r)})}async deleteProject(e,t){return this.request("/projects/".concat(e),{method:"DELETE",headers:{"X-Organization-ID":t}})}async getInvitationDetails(e){return this.request("/invitations/".concat(e))}async acceptInvitation(e){return this.request("/invitations/".concat(e,"/accept"),{method:"POST"})}async getApiKeys(){return this.request("/settings/api-keys")}async saveApiKey(e,t){return this.request("/settings/api-keys/".concat(e),{method:"PUT",body:JSON.stringify({apiKey:t})})}async deleteApiKey(e){return this.request("/settings/api-keys/".concat(e),{method:"DELETE"})}async updateProfile(e,t){return this.request("/settings/profile",{method:"PATCH",body:JSON.stringify({name:e,email:t})})}async changePassword(e,t){return this.request("/settings/password",{method:"PATCH",body:JSON.stringify({currentPassword:e,newPassword:t})})}async getAuditLogs(e){let t=new URLSearchParams;return(null==e?void 0:e.action)&&t.append("action",e.action),(null==e?void 0:e.resource_type)&&t.append("resource_type",e.resource_type),(null==e?void 0:e.user_id)&&t.append("user_id",e.user_id),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.append("offset",e.offset.toString()),(null==e?void 0:e.start_date)&&t.append("start_date",e.start_date.toString()),(null==e?void 0:e.end_date)&&t.append("end_date",e.end_date.toString()),this.request("/audit?".concat(t.toString()))}constructor(e){this.token=null,this.baseUrl=e.replace(/\/$/,""),console.log("\uD83D\uDD35 ApiClient initialized with baseUrl:",this.baseUrl),this.token=localStorage.getItem("token")}}let n=new s("https://upto-backend.onurhanyilmaz87.workers.dev")},6616:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(5155),n=r(2115),a=r(5695),o=r(6874),i=r.n(o),c=r(5731);function l(){let e=(0,a.useRouter)(),[t,r]=(0,n.useState)({name:"",email:"",password:""}),[o,l]=(0,n.useState)(""),[u,d]=(0,n.useState)(!1),g=async r=>{var s;r.preventDefault(),l(""),d(!0);let n=await c.F.register(t.name,t.email,t.password);if(n.error){l(n.error),d(!1);return}(null==(s=n.data)?void 0:s.token)&&(c.F.setToken(n.data.token),e.push("/dashboard"))};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-950",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8 p-8 bg-gray-900 border border-gray-800 rounded-lg shadow-lg",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Upto"}),(0,s.jsx)("h2",{className:"text-lg text-gray-400",children:"Security Monitoring Platform"})]})}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:g,children:[o&&(0,s.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-3 rounded-lg",children:o}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:"Full Name"}),(0,s.jsx)("input",{id:"name",name:"name",type:"text",required:!0,value:t.name,onChange:e=>r({...t,name:e.target.value}),className:"mt-1 block w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),(0,s.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:t.email,onChange:e=>r({...t,email:e.target.value}),className:"mt-1 block w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),(0,s.jsx)("input",{id:"password",name:"password",type:"password",required:!0,value:t.password,onChange:e=>r({...t,password:e.target.value}),className:"mt-1 block w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent"})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition-colors",children:u?"Creating account...":"Create account"})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-gray-700"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-2 bg-gray-900 text-gray-400",children:"Or continue with"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=window.location.origin;window.location.href="".concat("https://upto-backend.onurhanyilmaz87.workers.dev","/oauth/google?frontend_url=").concat(encodeURIComponent(e))},className:"w-full inline-flex justify-center py-2 px-4 border border-gray-700 rounded-lg shadow-sm bg-gray-800 text-sm font-medium text-white hover:bg-gray-700 transition-colors",children:[(0,s.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,s.jsx)("span",{className:"ml-2",children:"Google"})]}),(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=window.location.origin;window.location.href="".concat("https://upto-backend.onurhanyilmaz87.workers.dev","/oauth/apple?frontend_url=").concat(encodeURIComponent(e))},className:"w-full inline-flex justify-center py-2 px-4 border border-gray-700 rounded-lg shadow-sm bg-gray-800 text-sm font-medium text-white hover:bg-gray-700 transition-colors",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M17.05 20.28c-.98.95-2.05.88-3.08.4-1.09-.5-2.08-.48-3.24 0-1.44.62-2.2.44-3.06-.4C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),(0,s.jsx)("span",{className:"ml-2",children:"Apple"})]})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsxs)("span",{className:"text-sm text-gray-400",children:["Already have an account?"," ",(0,s.jsx)(i(),{href:"/login",className:"font-medium text-blue-400 hover:text-blue-300",children:"Sign in"})]})})]})]})})}},7709:(e,t,r)=>{Promise.resolve().then(r.bind(r,6616))}},e=>{e.O(0,[874,441,583,358],()=>e(e.s=7709)),_N_E=e.O()}]);