(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[576],{2027:(e,t,s)=>{Promise.resolve().then(s.bind(s,7986))},5057:(e,t,s)=>{"use strict";s.d(t,{J:()=>d});var a=s(5155),r=s(2115),i=s(2797),n=s(2085),l=s(9434);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.b,{ref:t,className:(0,l.cn)(o(),s),...r})});d.displayName=i.b.displayName},7481:(e,t,s)=>{"use strict";s.d(t,{dj:()=>u});var a=s(2115);let r=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=[],o={toasts:[]};function d(e){o=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(o,e),l.forEach(e=>{e(o)})}function c(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function u(){let[e,t]=a.useState(o);return a.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},7986:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(5155),r=s(2115),i=s(5695),n=s(2177),l=s(221),o=s(5595),d=s(5731),c=s(7481),u=s(5290),m=s(1324),h=s(285),g=s(2523),p=s(5057),x=s(5169),f=s(6874),S=s.n(f);let j=o.Ikc({name:o.YjP().min(1,"Organization name is required").max(100,"Name must be less than 100 characters"),slug:o.YjP().min(1,"Slug is required").max(50,"Slug must be less than 50 characters").regex(/^[a-z0-9-]+$/,"Slug must contain only lowercase letters, numbers, and hyphens")});function y(){let e=(0,i.useRouter)(),{toast:t}=(0,c.dj)(),{refreshOrganizations:s}=(0,u.Z)(),[o,f]=(0,r.useState)(!1),y=(0,n.mN)({resolver:(0,l.u)(j),defaultValues:{name:"",slug:""}}),v=async a=>{f(!0);try{let r=await d.F.createOrganization(a.name,a.slug);r.error?t({variant:"destructive",title:"Error",description:r.error}):(t({title:"Success",description:"Organization created successfully"}),await s(),e.push("/dashboard"))}catch(e){t({variant:"destructive",title:"Error",description:e.message||"Failed to create organization"})}finally{f(!1)}};return(0,a.jsx)(m.A,{children:(0,a.jsxs)("div",{className:"max-w-2xl space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(h.$,{variant:"ghost",size:"icon",asChild:!0,children:(0,a.jsx)(S(),{href:"/dashboard",children:(0,a.jsx)(x.A,{className:"h-4 w-4"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Organization"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Create a new organization to organize your services and team"})]})]}),(0,a.jsxs)("form",{onSubmit:y.handleSubmit(v),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.J,{htmlFor:"name",children:"Organization Name"}),(0,a.jsx)(g.p,{id:"name",...y.register("name"),onChange:e=>{y.register("name").onChange(e);let t=e.target.value;y.setValue("name",t);let s=t.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");y.setValue("slug",s)},placeholder:"My Organization",disabled:o}),y.formState.errors.name&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:y.formState.errors.name.message}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"A descriptive name for your organization"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.J,{htmlFor:"slug",children:"Slug"}),(0,a.jsx)(g.p,{id:"slug",...y.register("slug"),placeholder:"my-organization",disabled:o}),y.formState.errors.slug&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:y.formState.errors.slug.message}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"A URL-friendly identifier (auto-generated from name)"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-4",children:[(0,a.jsx)(h.$,{type:"button",variant:"outline",onClick:()=>e.back(),disabled:o,children:"Cancel"}),(0,a.jsx)(h.$,{type:"submit",disabled:o,children:o?"Creating...":"Create Organization"})]})]})]})})}}},e=>{e.O(0,[874,597,739,712,299,324,441,583,358],()=>e(e.s=2027)),_N_E=e.O()}]);